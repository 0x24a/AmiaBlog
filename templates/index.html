<!doctype html>
<html lang="{{ config.site_language }}" class="mdui-theme-{{ config.site_settings.theme }}">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/>
    <meta name="renderer" content="webkit"/>
    <meta name="description" content="{{ config.site_settings.description }}">
    <meta name="keywords" content="{{ config.site_settings.keywords }}">

    <link rel="stylesheet" href="/static/mdui_2.1.4/mdui.css">
    <style>
    body {
      font-family: 'Roboto', sans-serif;
    }
    
    @import url('/static/roboto/roboto.css');
    </style>
    <script src="/static/mdui_2.1.4/mdui.global.js"></script>
    <link rel="stylesheet" href="/static/material_icons/material_icons.css">

    <title>{{ config.site_settings.title }}</title>
  </head>
  <body>
      
      <mdui-top-app-bar>
        <mdui-button-icon icon="menu"></mdui-button-icon>
        <mdui-top-app-bar-title>{{ config.site_settings.title }}</mdui-top-app-bar-title>
        <div style="flex-grow: 1"></div>
        <mdui-button-icon icon="more_vert" onclick="mdui.$('#about')[0].open = true"></mdui-button-icon>
      </mdui-top-app-bar>
      <div style="max-width: 90%; padding-left: 5%;">
          <p style="font-size: x-large;">{{ i18n.recent_posts }}</p>
          {% for post in recent_posts %}
          <mdui-card href="/post/{{ post.slug }}" target="_blank" variant="elevated" style="width: 100%; background-color: rgb(var(--mdui-color-surface-container));">
              <div style="padding-left: 16px; padding-right: 16px;">
                <p style="font-size: large; font-weight: bold;">{{ post.metadata.title }}</p>
                <p>{{ post.metadata.description }}</p>
                {% for tag in post.metadata.tags %}
                <mdui-chip href="/tag/{{ tag | urlencode }}" target="_blank">{{ tag }}</mdui-chip>&nbsp;
                {% endfor %}
                <p style="display: flex; align-items: center; gap: 0.8rem; flex-wrap: wrap; color: rgb(var(--mdui-color-outline))">
                  <span style="display: inline-flex; align-items: center; gap: 0.25rem;">
                    <mdui-icon name="person"></mdui-icon> {{ post.metadata.author }}
                  </span>
                  <span>|</span>
                  <span style="display: inline-flex; align-items: center; gap: 0.25rem;">
                    <mdui-icon name="calendar_month"></mdui-icon> {{ post.metadata.date }}
                  </span>
                  <span>|</span>
                  <span style="display: inline-flex; align-items: center; gap: 0.25rem;">
                    <mdui-icon name="edit"></mdui-icon> {{ post.metadata.last_modified }}
                  </span>
                </p>
              </div>
          </mdui-card>
          <br><br>
          {% endfor %}
          {% if not recent_posts %}
              <p>{{ i18n.no_recent_posts }}</p>
          {% endif %}
      </div>
      <mdui-dialog id="about" close-on-esc close-on-overlay-click>
            <p style="font-size: x-large;">{{ config.site_settings.title }}</p>
            <p>{{ config.site_settings.description }}</p>
            <p>{{ i18n.total_posts.format(total_posts) }}</p>
            <br>
            <mdui-divider></mdui-divider>
            <br>
            <p>{{ i18n.powered_by.format(backend_version) }}</p>
            <p><a href="https://github.com/0x24a/AmiaBlog" target="_blank">{{ i18n.github_repo }}</a></p>
            <br>
      </mdui-dialog>
      <script>mdui.setColorScheme('{{ config.site_settings.color_scheme }}')</script>
  </body>
</html>